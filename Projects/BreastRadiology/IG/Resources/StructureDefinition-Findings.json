{
  "resourceType": "StructureDefinition",
  "url": "http://hl7.org/fhir/us/breast-radiology/StructureDefinition/Findings",
  "version": "0.0.2",
  "name": "Findings",
  "title": "Findings",
  "status": "draft",
  "date": "2019-11-01",
  "publisher": "Hl7 - Clinical Interoperability Council",
  "contact": [
    {
      "telecom": [
        {
          "system": "url",
          "value": "http://www.hl7.org/Special/committees/cic"
        }
      ]
    }
  ],
  "description": "Findings Section",
  "kind": "resource",
  "abstract": false,
  "type": "Observation",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Observation",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Observation",
        "path": "Observation",
        "short": "Measurements and simple assertions",
        "definition": "Measurements and simple assertions made about a patient, device or other subject.",
        "comment": "Used for simple observations such as device measurements, laboratory atomic results, vital signs, height, weight, smoking status, comments, etc.  Other resources are used to provide context for observations such as laboratory reports, etc.",
        "alias": [
          "Vital Signs",
          "Measurement",
          "Results",
          "Tests"
        ],
        "min": 0,
        "max": "*",
        "constraint": [
          {
            "key": "obs-7",
            "severity": "error",
            "human": "If Observation.code is the same as an Observation.component.code then the value element associated with the code SHALL NOT be present",
            "expression": "value.empty() or component.code.where( (coding.code = %resource.code.coding.code) and (coding.system = %resource.code.coding.system)).empty()",
            "xpath": "not(f:*[starts-with(local-name(.), 'value')] and (for $coding in f:code/f:coding return f:component/f:code/f:coding[f:code/@value=$coding/f:code/@value] [f:system/@value=$coding/f:system/@value]))"
          },
          {
            "key": "obs-6",
            "severity": "error",
            "human": "dataAbsentReason SHALL only be present if Observation.value[x] is not present",
            "expression": "dataAbsentReason.empty() or value.empty()",
            "xpath": "not(exists(f:dataAbsentReason)) or (not(exists(*[starts-with(local-name(.), 'value')])))"
          }
        ],
        "mapping": [
          {
            "identity": "workflow",
            "map": "Event"
          },
          {
            "identity": "sct-concept",
            "map": "< 363787002 |Observable entity|"
          },
          {
            "identity": "v2",
            "map": "OBX"
          },
          {
            "identity": "rim",
            "map": "Observation[classCode=OBS, moodCode=EVN]"
          }
        ]
      },
      {
        "id": "Observation.subject",
        "path": "Observation.subject",
        "min": 1,
        "max": "1",
        "base": {
          "path": "Observation.subject",
          "min": 0,
          "max": "1"
        }
      },
      {
        "id": "Observation.component",
        "path": "Observation.component",
        "min": 0,
        "max": "0",
        "base": {
          "path": "Observation.component",
          "min": 0,
          "max": "*"
        }
      }
    ]
  }
}